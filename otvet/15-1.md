# Домашнее задание к занятию 1. «Типы и структура СУБД» - Рыбакин Алексей

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
```
К примеру MongoDB. Для Json можно использовать документно-ориэнтированую базу данных NoSQL. Либо RostgreSQL с типом данных Json
```

- склады и автомобильные дороги для логистической компании,
```
Сетевая БД или реляционные БД (MS SQL, PostgreSQL, MySQL)
```

- генеалогические деревья,
```
Реляционные БД
```

- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
```
NoSQL типа ключ-значение либо Redis
```

- отношения клиент-покупка для интернет-магазина.
```
Реляционные БД
```

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

```
CAP: 

PA - Система устойчива может работать отдельно, но с задержкой в 1 час данные не согласовываются
PA - если сетевой сбой не востановиться то будет работать - не согласовонно
PC - если система не даёт точного ответа значит - не доступна
```
```
PACELC: 

PA/EL - жертвует скоростью. важна доступность с согласованностью до часа
PA/EL - жертвует согласованностью. важна доступность
PС/EС - жертует доступностью и скоростью. важна согласованность
```

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

```
Нет не могут.
Они по разному работают. и невозможность их одновременной работы кроется во времени транзакций. 
ACID - является согласованным в любой промежуток временни (покупка товаров в магазине). 
BASE - согласованность достигается с прохождением времени (ежемесячня оплата счета. как только появилась необходимая сумма на счете - происходит автосписание). 
```

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?

```
Pub/Sub — механизм синхронной доставки сообщений. (сбор статистики или журнал ошибок)
БД «ключ-значение» обеспечивают производительность и масштабируемость. В лидерах такие СУБД: Redis, Memcached, Etcd, Riak.

Преимущества:
Скорость работы
Простота модели хранения данных
Гибкость (значения могут быть любыми)

Недостатки:
Плохо масштабируются по мере усложнения моделей данных
Неэффективность при работе с группой записей
```
